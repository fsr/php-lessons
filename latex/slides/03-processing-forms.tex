\input{../templates/slides_template}
\input{../templates/php_info}

% meta-information
\newcommand{\topic}{
	% TODO fill in the actual topic
	PHP-Einf√ºhrung - Lesson 3 - Processing forms
}

\title{\topic}
\date{\today}

% the actual document
\begin{document}

\maketitle

\begin{frame}{Content of this lesson}

	\setbeamertemplate{section in toc}[sections numbered]
	\tableofcontents

\end{frame}

\section{Recap}

\begin{frame}{A short recap}

	Well.. essentially we learned most of the basic control structures and can write somewhat mighty programs. \pause But these are not dynamic enough at the moment, because we cannot process user input yet! That's what we want to change in this lesson.
\end{frame}

\section{Security notice}

\begin{frame}{Security notice}

	As you've seen in the content overview, our last chapter is Input Validation and Security. \textbf{All code examples before} this chapter lack on security and validation methods. \pause 
	Please, \textbf{do not} use them in production, otherwise you open the box of pandora for your (live) website!
\end{frame}

\section{Understanding of HTTP Requests}

\begin{frame}{HTTP - The protocol of the internet}

	HTTP (short for \textbf{H}yper\textbf{t}ext \textbf{T}ransport \textbf{Protocol}) is used for communicating between a client and the server.\pause
	 
	It is a request-response protocol:
	By entering an URL in your browser, your browser perfoms a \emph{GET} request to the server and displays the response, which can be HTML, a file (which you can download) or anything else. The response also contains a status code (200 means OK for example, you all know some more I guess). \pause You can add to your request body data by using a \emph{POST} request. 
	
	There are some more methods than just GET and POST, but we will cover those in a later lesson.
\end{frame}

\begin{frame}{GET vs POST}
	Well, let's compare \textbf{GET} and \textbf{POST} now, so we can evaluate when we use each method. PHP let us choose between those two when sending a form. The \emph{default method} is GET by the way \pause
	\begin{center}
	
		\begin{tabular}{m{2.5cm} | m{3cm} | m{3cm}}
		Attribute & GET & POST \\
		\hline \pause
		Visibility & \pause Yes, query string in URL & No, query string only in Request body \\
		\hline \pause
		Bookmarked & \pause Yes, bookmaring is possible & Not possible \\
		\hline \pause
		Browser History & \pause Creates browser history entry & No history entries \\
		\hline \pause
		Cache & \pause Cacheable & Not cacheable \\
		\hline \pause
		Length & \pause Limited & Unlimited\\
		\hline \pause
		Reload/Back button & \pause Nothing special & Resend alert \\
		\end{tabular}
	
	\end{center}
	
\end{frame}

\begin{frame}{GET vs POST}
	
	Alright, now you know what is the difference. So to put it in a nutshell, let's list the use cases.: \pause
	
	GET \pause
	\begin{itemize}
	\item Filtering \pause
	\item Searching \pause
	\item Redirect through forms \pause
	\end{itemize}	
	
	POST \pause
	\begin{itemize}
	\item Sending data that should not appear in the URL (sensitive data like passwords eg.) \pause
	\item Actually all other use cases :D
	\end{itemize}
	
	
\end{frame}

\section{PHP Superglobals}

\begin{frame}[fragile]{Superglobals}
Superglobals are variables that are accessible regardsless of the scope. They are automatically set by PHP itself. You can alter them though!
	\pause
	
	\begin{itemize}
        \item \textbf{\$\_{}SERVER} holds all information about the request headers, script location and similar	
        \pause
		\item \textbf{\$\_{}POST} and \textbf{\$\_{}GET} hold the corresponding data sent by the request
		\pause
		\item \textbf{\$\_{}COOKIE} has the cookie data of the request
		\pause
		\item \textbf{\$\_{}REQUEST} holds all data of \$\_{}POST, \$\_{}GET and \$\_{}COOKIE
		\pause
		\item \textbf{\$\_{}SESSION} stores user-based data (e.g. when they log in)
		\pause
		\item \textbf{\$\_{}ENV} is responsible for all environment variables
	\end{itemize}
\end{frame}

\begin{frame}[fragile]{Superglobals - Example}

	Assuming you call the following script with the parameters 
	
	\texttt{?name=Alex\&{}age=20\&{}lesson=3}
	
	\begin{lstlisting}
<?php
	echo "Name: " . $_GET['name'] . "<br>";
	echo "Age: " . $_REQUEST['age'] . "<br>";
	//Would not work because the HTTP method is GET
	//echo "Lesson: " . $_POST['lesson'] . "<br>";
	echo "Lesson: " . $_GET['lesson'] . "<br>";
	echo "Script name: " . $_SERVER['PHP_SELF'] . "<br>";
	\end{lstlisting}
	
	It will print out the values from the query string and the filename of the executing script (through \texttt{\$\_{}SERVER['PHP\_{}SELF']}). 
\end{frame}

\section{Form Handling}

\section{Input Validation and Security}


\end{document}
